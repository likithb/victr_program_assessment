{% extends 'base.html.twig' %}
{% block body %}
<h2 class="page-header">Repositories List</h2>
<table class="table">
  <thead class="thead-dark">
    <tr>
      <th>#</th>
      <th>Repository ID</th>
      <th>Name</th>
      <th>Url</th>
      <th>Date Created</th>
      <th>Last Push Date</th>
      <th>Stars</th>
    </tr>
  </thead>
  <tbody>
  {% for repository in repositories %}
    <tr>
      <th>{{ repository.id }}</th>
      <th>{{ repository.repositoryID }}</th>
      <td>{{ repository.name }}</td>
      <td><a href="{{ repository.url }}" target="_blank">{{ repository.url }}</a></td>
      <td>{{ repository.createdDate|date('Y-m-d, g:i a') }}</td>
      <td>{{ repository.lastPushDate|date('Y-m-d, g:i a') }}</td>
      <td>{{ repository.stars }}</td>   
      <td>
        <button type="button" class="btn btn-success" data-toggle="modal" data-target="#exampleModalLong{{repository.id}}">View</button>
      </td>
      <!-- Modal -->
      <div class="modal fade" id="exampleModalLong{{repository.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title" id="exampleModalLongTitle">Repository Details #{{repository.repositoryID}}</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div><label>Name:</label> {{ repository.name }}</div>
              <div><label>Url:</label> <a href="{{ repository.url }}" target="_blank">{{ repository.url }}</a></div>
              <div><label>Created Date:</label> {{ repository.createdDate|date('Y-m-d, g:i a') }}</div>
              <div><label>Last Push Date:</label> {{ repository.lastPushDate|date('Y-m-d, g:i a') }}</div>
              <div><label>Description:</label> {{ repository.description }}</div>
              <div><label>Stars:</label> {{ repository.stars }}</div>
            </div>
          </div>
        </div>
      </div>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
